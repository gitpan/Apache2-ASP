
# Needed for file uploads to work properly:
LoadModule apreq_module /usr/local/apache2/modules/mod_apreq2.so

# Set the directory index:
DirectoryIndex index.asp

# Declare some important variables:
PerlSetEnv APACHE2_ASP_APPLICATION_ROOT @ServerRoot@
PerlSetEnv APACHE2_ASP_MEDIA_MANAGER_UPLOAD_ROOT @ServerRoot@/MEDIA

PerlRequire @ServerRoot@/httpd_startup.pl

# Load up some important modules:
PerlModule Apache::DBI
PerlModule DBI
PerlModule DBD::SQLite
PerlModule Apache2::ASP
PerlModule Apache2::Directive
PerlModule Apache2::RequestRec
PerlModule Apache2::RequestIO
PerlModule Apache2::Connection
PerlModule Apache2::SubRequest

# Specify which Session manager you want:
PerlSetEnv APACHE2_ASP_SESSION_MANAGER Apache2::ASP::Session::MySQL
PerlSetEnv APACHE2_ASP_APPLICATION_MANAGER Apache2::ASP::Application::MySQL

# Configuration for MediaManager:
PerlModule Apache2::ASP::URLFilter
PerlTransHandler Apache2::ASP::URLFilter

# All *.asp files are handled by Apache2::ASP
<Files ~ (\.asp$)>
  SetHandler          perl-script
  PerlResponseHandler Apache2::ASP
</Files>

<Location /handlers>
  SetHandler          perl-script
  PerlResponseHandler Apache2::ASP
</Location>

